{
    "$schema" : "http://json-schema.org/draft-04/schema",
    "id" : "tileMetadata.schema.json",
    "title" : "Tile Metadata",
    "type" : "object",
    "description" : "Tile metadata.",
    "properties" : {
        "boundingVolume" : {
            "description" : "The bounding volume that encloses the tile.",
            "$ref" : "boundingVolume.schema.json"
        },
        "viewerRequestVolume" : {
            "extends" : { "$ref" : "boundingVolume.schema.json" },
            "description" : "Optional bounding volume that defines the volume that the viewer must be inside of before the tile's content will be requested and before the tile will be refined based on geometricError."
        },
        "expire" : {
            "type" : "object",
            "description" : "Defines when a tile's content expires and should be re-requested. If both date and duration are present, the sooner value is used.",
            "properties" : {
                "date" : {
                    "type" : "string",
                    "description" : "The ISO8601 representation of the date at which the tile's content expires."
                },
                "duration" : {
                    "type" : "number",
                    "description" : "The number of seconds since the tile's content is loaded when the tile's content expires.",
                    "minimum" : 0
                }
            },
            "anyOf" : [{
                "required" : ["date"]
            }, {
                "required" : ["duration"]
            }]
        },
        "geometricError" : {
            "type" : "number",
            "description" : "The error, in meters, introduced if this tile is rendered and its children are not. At runtime, the geometric error is used to compute Screen-Space Error (SSE), i.e., the error measured in pixels.",
            "minimum" : 0
        },
        "refine" : {
            "type" : "string",
            "description" : "Specifies if additive or replacement refinement is used when traversing the tileset for rendering.  This property is required for the root tile of a tileset; it is optional for all other tiles.  The default is to inherit from the parent tile.",
            "enum" : ["add", "replace"]
        },
        "transform" : {
            "type" : "array",
            "description" : "A floating-point 4x4 affine transformation matrix, stored in column-major order, that transforms the tile's content, i.e., its features and content.boundingVolume, and boundingVolume and viewerRequestVolume from the tile's local coordinate system to the parent tile's coordinate system, or tileset's coordinate system in the case of the root tile.  transform does not apply to geometricError nor does it apply any volume property when the volume is a region, which is defined in WGS84.",
            "items" : {
                "type": "number"
            },
            "minItems" : 16,
            "maxItems" : 16,
            "default" : [ 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0 ]
        }
    },
    "additionalProperties" : false
}
